# Автоматизированные системы управления технологическими процессами

[TOC]

***
[date]: # (13.02.19)

## Введение

**Автоматическая система управления** (АСУ) – человеко-машинная система, обеспечивающая автоматизированный сбор и переработку информации, необходимой для оптимизации управления в различных аспектах человеческой деятельности.

**Автоматическая система управления технологическими процессами** (АСУ ТП) — автоматическая система управления для выработки и реализации управляющих воздействий на технический объект управления в соответствии с принятым принципом качества управления.

В процессе производства изделий ЭВМ (вычислительная техника) является в настоящее время главным техническим средством. Автоматизированы процессы конструирования изделий, проектирования технологии изделий, и возникает необходимость автоматизировать процесс изготовления изделий. В результате получается так называемое интегрированное производство, где все процессы, от конструирования до изготовления, автоматизированы. Появляется возможность безлюдных технологий, создание гибких производств. Поэтому задачей является выяснить возможности применения ЭВМ для целей управления технологией. Важно найти оптимизационный подход к созданию и эксплуатации АСУ ТП, то есть выбрать лучшую с точки зрения выбранного критерия систему управления. Может показаться, что создание АСУ ТП — чисто конструкторская задача, но необходимо исходить из того, что технолог выбирает критерии будущей АСУ ТП, то есть ставит задачу — чем надо управлять чтобы достичь оптимального значения критерия, а создатель АСУ ТП воплощает решение задачи материально, после чего технолог использует результаты проектировщиков.

## Понятие об управлении

Под **управлением** понимается процесс организации такого целенаправленного воздействия на объект, в результате которого объект переходит в требуемое (целевое) состояние. В нашем случае объектами являются технологические процессы обработки деталей на станках или сборки узлов и изделий. Цель — некоторые предполагаемые состояния процесса обработки, которых желательно достигнуть, и которые сами собой, без вмешательства человека (без управления), не реализуются. Целью, как правило, является производительность, себестоимость, точности и так далее. Источник цели, как правило, технолог, который знает потребности производства.

![-c400](media/15505377468319.jpg)

Воздействие на объект \\(X\\) переводить объект в состояние \\(Y\\). Если состояние \\(Y\\) объекта удовлетворяет потребителя, то никакого управления не требуется; если не удовлетворяет, необходимо организовать воздействие \\(X\\) на объект, которое переведёт его в новое состояние, удовлетворяющее потребителя. Это воздействие и есть управление. Коротко можно сказать: **Управление** — способ достижения поставленной цели.

Необходимо помнить, что за управление всегда надо платить. Это, прежде всего, затраты на сбор информации, выработку сигналов управления, реализацию управления и так далее. Если цели важны, то, как правило, идут на создание системы управления.

## Понятие о системах управления

Любой процесс управления включает следующие функции:
1. Получение (сбор) информации о состоянии объекта путём измерения выходной переменной \\(Y\\). Для этого, как правило, используются датчики.
2. Обработка информации о состоянии выходной переменной \\(Y\\) и сравнение полученного результата с требуемым. Используется вычислительная техника.
3. Принятие решения об изменении состояния объекта и реализации этого решения. Используются ЭВМ и исполнительные механизмы.
Таким образом система управления включает в себя ряд подсистем, выполняющих перечисленные функции: подсистема сбора информации, подсистема обработки информации, подсистема управляющих воздействий и так далее.

Система управления далеко не всегда реализуется в металле. она может быть реализована в виде правил, договоров, алгоритмов, которые реализуются в процессе управления.

Под **алгоритмом управления** понимают чёткое недвусмысленное правило, *что* и *как* надо делать, чтобы добиться заданной цели (например, инструкция по эксплуатации бытовой техники).

Таким образом, основными факторами, присущими любой системе управления, являются:

- цель управления
- информация о состоянии объекта и окружающей среды
- воздействие на объект
- алгоритм управления

Если из перечисленных факторов исключить хотя бы один, управление будет невозможным, а система управления — бессмысленной. Решение о создании системы управления и степени её автоматизации необходимо начинать с анализа сложности объекта управления. Управление простыми объектами в настоящее время не представляет труда, а управление сложными объектами (системами), как правило, требует создания системы управления.

## Технологический процесс как сложная система (сложный объект управления)

Современные технологии механической обработки и сборки в силу ряда причин следует рассматривать как сложные процессы. Основные из этих причин:

- обилие влияющих на процесс факторов
- неопределённость ряда параметров при резании
- случайный характер целого ряда факторов и параметров при резании и сборке
- нестационарность процесса резания, в первую очередь из-за износа инструмента

Наличие указанных причин вызывает трудность при аналитическом определении оптимальны условий резания. Отсюда, трудно обеспечить получение детали заданного качества при наименьших трудовых затратах и себестоимости изготовления. Возникает необходимость в системном подходе к решению задачи управления технологией обработки и сборки. Таким образом, процесс механической обработки (сборки) рассматривается как сложная стохастическая система.

Понятие «сложная система» широко используется в науке системотехнике. Используются системные методы анализа и исследования, широко применяя математическое моделирование, системотехника позволяет решать вопросы моделирования, создания, эксплуатации сложных систем. В системотехнике под **сложной системой** понимают объект, части которого (подсистемы и элементы) также можно рассматривать как системы, взаимосвязь которых образует целостные свойства объекта. Расчленение сложной системы на подсистемы и элементы является условным и, в принципе, сами элементы системы могут рассматриваться как сложные системы. В нашем случае такой сложной системой является система СПИД, которая состоит из подсистем, каждую из которых можно рассматривать как сложную систему. Необходимо помнить, что свойства сложной системы определяются не только простым суммированием свойств отдельных элементов, но и свойствами структуры, взаимодействием между подсистемами и рядом других свойств.

Отметим признаки процесса обработки резанием как сложной подсистемы:

1. Большое число взаимосвязанных и взаимодействующих между собой элементов
2. Сложность функции, выполняемой системой, направленной на достижение цели функционирования
3. Возможность разбиение системы на подсистемы, цели функционирования которых подчиняются общей цели функционирования всей системы
4. Наличие информации о процессе и необходимость управления им
5. Наличие взаимодействия с внешней средой и функционирование в условиях воздействия случайных факторов

Необходимость управления сложной системой является важной чертой процесса её функционирования, причём управление должно быть, в определённом смысле, наилучшим, или оптимальным.

## Трудности, связанные с созданием АСУ ТП

1. Полное или частичное отсутствие математического описания процессов, протекающих при механической обработке. Под математическим описанием подразумевается наличие алгоритма или формул вычисления состояния объекта \\(Y\\) под наблюдением его входов (воздействий). Воздействия могут быть управляемыми и неуправляемыми. Не зная математического описания процессов, имеем сложную систему типа «чёрный ящик». Так как АСУ ТП содержит для целей управления вычислительную технику, приходится создавать математические модели сложной системы, то есть, делать чёрный ящик более прозрачным.
2. Случайность (стохастичность) поведения сложных объектов управления. Поведение сложной системы порой бывает неожиданным для пользователя из-за действия случайных факторов. Иногда эти неожиданности не учитывают и считают второстепенными, или называют шумом. Нежелательно учитывать случайность при создании АСУ ТП.
3. Нетерпимость к управлению со стороны объекта управления. Сложный объект существует и функционирует независимо от нужд потребителя. Любой техпроцесс существует для производства продукции, а не для управления им. Из-за этого всякое управление нарушает функционирование объекта и заменяет его самостоятельное поведение, делает зависимым от потребителя. Цели управления могут не совпадать с собственными целями сложной системы, а часто и вступать в противоречие.
4. Нестационарность объекта управления. Характеристики объекта, как правило, дрейфуют, что вызвано износом, старением и рядом других причин. Изменение системы во времени создаёт серьёзные трудности при управлении. 

Перечисленный список трудностей можно продолжить, но уже ясно, что цель управления сложным объектом в полной мере никогда не достигается, то есть, создать идеальную АСУ ТП невозможно. Более того, учитываю, что АСУ ТП достаточно дороги, необходимо экономически обосновать из создание и эксплуатацию.

## Последовательность создания АСУ ТП

Создание происходит поэтапно:

1. Формулировка целей управления
2. Содержательное описание объекта управления
3. Математическое моделирование процесса
4. Создание алгоритма управления
5. Реализация системы управления и корректировка при необходимости

[date]: # (18.02.2019)

### 1. Формулирование целей управления

На этом этапе определяют цель или множество целей, которые должны быть реализованы в процессе управления. Слово «цель» используют в смысле некоторого предполагаемого состояния объекта, которое желательно потребителю, и которое не реализуется без вмешательства извне, то есть, управления. Основными целями управления механической обработкой являются:

- Обеспечение производительности
- Обеспечение экономичности
- Обеспечение качества продукции (точности)
- Обеспечение надёжности техпроцесса
- Обеспечение гибкости техпроцесса

Поскольку АСУ ТП обеспечивают оптимизацию техпроцесса, то перечисленные функции и цели лежат в основе создания АСУ ТП. Желательно чтобы функция была одна, так как использование двух и более резко усложняется задачу оптимизации и, как правило, приводит к компромиссному решению. Выбранная функция цели должна удовлетворять следующим целям:

- характеризовать не какую-то часть процесса, а весь его в целом
- обеспечивать возможность получения количественной оценки с требуемой достоверностью
- область изменения функции цели должна иметь чётко определённые границы

К примеру, функция цели представляет собой аналитическую зависимость между критериями оптимизации и подлежащими оптимизации факторами (чаще всего — режимы резания). Можно выделить следующие критерии:

- стоимостные: 
    - себестоимость единицы продукции;
    - наименьшие приведённые затраты: \\[С_{пр} = Е_{н.к.} \cdot К + С_п \cdot N_г \to min\\] где \\(Е_н\\) — нормативный коэффициент окупаемости капитальных вложений \\(К\\), \\(С_п\\) — полная себестоимость единицы продукции, \\(N_г\\) — годовая программа выпуска; полная себестоимость складывается из себестоимости, зависящей от режимов резания, и себестоимости, не зависящей от режимов резания: \\[С_п = С_р + С_н\\]
    - прибыль (или доход) от реализации единицы продукции \\(П(Д) \to max\\)
- временные:
    - штучное время \\(t_{шт} \to max\\)
    - производительность:
        - \\(Q = \frac{1}{t_{шт}} \to max\\)
        - \\(Q_о = V \cdot S \cdot t \, [\frac{мм^3}{мин}] \to max\\)
- качественные:
    - точность
    - шероховатость
    - волнистость   
    В этом случае система управления должна обеспечить минимальные отклонения размеров и формы или минимум параметров шероховатости.   
    - технологическая надёжность — способность обеспечивать в течении заданного времени выпуск деталей с установленными требованиями по точности и шероховатости. Технологическая надёжность привязывается к конкретному периоду времени, в течении которого управляемый объект должен нормально функционировать.

Наиболее слабым звеном системы СПИД является инструмент, поэтому различают специальные критерии оценивания АСУ ТП с точки зрения надёжности инструмента:

- критерий износа (\\(min\\) износа, например, задней поверхности резца)
- критерий, учитывающий силы резания (\\(min \, R\\) или \\(min \, P_z\\))
- критерий, учитывающий мощность резания
- критерий, учитывающий температуру в зоне резания и влияние её на температурную деформацию

Большинство из рассматриваемых функций тесно связаны с режимами обработки, поэтому подавляющее большинство АСУ ТП являются системами управления (стабилизации) с помощью режимов резания.

#### Связь различных целевых функций между собой

Рассмотрим, для примера, обработку резанием одним инструментом.

Себестоимость обработки складывается из нескольких статей затрат (везде в расчёте на одну деталь):

1. Непроизводственные затраты: установка-снятие, простой оборудования и так далее \\[С_1 = x \cdot Т_{пр}\\] где \\(x\\) — стоимость одной минуты времени обработки, \\(Т_{пр}\\) — суммарное время простоя
2. Стоимость машинного времени \\[С_2 = x \cdot Т_{маш} \; (Т_{маш} \approx t_о)\\]
3. Стоимость времени на смену инструмента \\[С_3 = x \cdot Т_{см} \left(\frac{Т_{маш}'}{Т}\right)\\] где \\(Т_{см}\\) — время смены инструмента, \\(Т_{маш}'\\) — действительное время обработки детали, \\(Т\\) — период стойкости
4. Затраты, связанные со стоимостью инструмента \\[С_4 = y \cdot \frac{Т_{маш}'}{Т}\\] где \\(y\\) — стоимость режущего лезвия.   
   Для напайного инструмента: \\[y = \frac{ст.инстр.}{кол.перет.} + 1\\]
   Для инструмента с СМП: \\[y = \frac{ст.пласт. + ст.держ.}{кол.реж.кр.}\\]
5. Сюда же можно добавить другие виды затрат \\(С_5\\), например, на СОЖ, изготовление инструмента, стоимость обрабатываемого материала и др., но \\(С_5\\) от режимов резания зависеть не будет, поэтому её можно не учитывать.

То есть: \\[С_п = x \left[Т_{пр} + Т_{маш} + Т_{см}\left(\frac{Т_{маш}'}{Т}\right)\right] + y \left(\frac{Т_{маш}}{Т}\right)\\]

![-c300](media/15505436902353.jpg)


Увеличение скорости резания снижает время обработки и уменьшает стойкость. Отсюда появляется оптимальное значение скорости, при которой себестоимость будет минимальной.

Производительность обработки на одну деталь: \\[t_{шт} = Т_{пр} + Т_{маш} + Т_{см}\left(\frac{Т_{маш}'}{Т}\right); \, Q = \frac{1}{t_{шт}}\\]

![-c300](media/15505442679668.jpg)

Таким образом, производительность будет зависеть от режимов резания и стойкости инструмента. Как правило, \\(V_{опт}^т > V_{опт}^с\\).

Прибыль, полученная в единицу времени: \\[П = \frac{Д - С}{t_{шт}} = \frac{Д - y \left(\frac{Т_{маш}}{Т}\right)}{Т_{пр} + Т_{маш} + Т_{ст} \left(\frac{Т_{маш}'}{Т}\right)} - x\\]

Таким образом, факторы, снижающие себестоимость и увеличивающие производительность, одновременно увеличивают и прибыль в единицу времени, но был рассмотрен случай обработки одним инструментом. В общем случае один и тот же фактор может по-разному влиять на различные целевые функции.

### 2. Содержательное описание объекта управления

В нашем случае объект управления — станок, группа станков, участок мехобработки (сборки), цех. На этапе содержательного описания ОУ чётко определяют все проблемы, связанные с управлением, устанавливают границы решения проблемы, выясняют действующие факторы, от которых зависит исследуемый процесс, определяют отношения (связи) между этими факторами. 

Этот этап является одним из важнейших, так как правильное решение любой проблемы зависит прежде всего от того, насколько верно понято, что в действительности представляет собой проблема и в чём её сложность. При выявлении действующих на объект факторов выделяют требуемые, управляемые и возмущающие.

К *требуемым* (заданным) относят марку обрабатываемого материала, метод мехобработки, требования по точности, качеству поверхности и так далее.

*Управляемые* (контролируемые) факторы допускают целенаправленный выбор или изменение в ходе обработки. Управление осуществляется изменением режущего материала, конструкции и геометрии инструмента, режимов обработки и так далее. 

Среди *возмущающих* факторов можно выделить систематические и случайные. К систематическим относятся закономерно изменяющиеся, например, стойкость, глубина резания, скорость резания. Они вызваны конструкцией, особенностями детали и кинематикой процесса резания. К случайным параметрам относят изменение химических свойств заготовки и инструмента, колебания припуска, жёсткость системы СПИД и так далее.

В результате проведения второго этапа создатель АСУ ТП должен ясно понимать цель и назначение АСУ ТП, выявить информацию об учитываемых параметрах внешней среды и объекта управления, установить совокупность допущений, которые возникнут при реализации управления.

### 3. Моделирование процессов, протекающих в управляемом объекте

Только с помощью моделирования функции объекта управления можно построить управление, переводящее сложную систему в требуемое (целевое) состояние. Без модели процесса управление можно реализовать только методом проб и ошибок, что неприемлемо при управлении сложным объектом. Кроме того, этот метод требует больших затрат времени и может привести к выходу из строя объекта управления.

Под моделью объекта управления (техпроцесса) будем понимать зависимость, которая связывает состояние объекта \\(Y\\) с входами, неуправляемыми \\(X\\) и управляемыми \\(U\\): \\[Y = F(X, U)\\] где \\(Y\\) — высказывание относительно связи между входами модели \\(X\\) и \\(U\\) и выходом \\(Y\\) на любом удобном языке. 

Процесс резания можно рассмотреть как сложный физико-химический механизм взаимодействия инструмента с обрабатываемым материалом в условиях рассеяния всех свойств технологической системы СПИД.

Для управления процессом необходимо раскрыть физическую природу явлений, происходящих в зоне обработки влияние явлений на неустойчивость резания и определить условия их стабилизации. В процессе резания происходит формоизменение заготовки в готовую деталь, то есть систему с набором одних характеристик переводит в систему с набором новых характеристик. Процесс перевода (переход) от заготовки к детали характеризуется рядом величин: временной деформацией, например, в обрабатываемом материале, температурой в зоне резания и так далее. Отсюда появляется возможность вести оценку процесса перехода по таким параметрам как мощность резания, силы резания, температура в зоне резания, износ поверхности инструмента и так далее.

Таким образом, под **математической моделью объекта управления** понимают зависимость, связывающую выходные параметры объекта управления с входными, в первую очередь с управляемыми.

Моделирование осуществляется в следующей последовательности:

- определяют вид зависимости \\(F\\) без учёта значений её параметров. Для этого \\(F\\) рассматривают как множество, состоящее из структуры и параметров: \\[F = \{S;P\}\\] Под структурой будем понимать вид элементов, из которых состоит объект управления, и отношений между этими элементами. Например, линейная структура: \\[y = F(X, U) = P_0 + P_1 X + P_2 U\\]
- После определения структуры необходимо отыскать параметры модели \\(P\\). Для этого используют идентификацию параметров. Она позволяет найти численные значения параметров \\(P\\). При идентификации объект управления работает в режиме нормального функционирования без организации специального управляющего воздействия. Исходной информацией при идентификации является структура и наблюдение за поведением входа \\(X\\) и выхода \\(Y\\) и его работой. Пассивное наблюдение не искажает естественного хода наблюдаемого процесса и позволяет выявить, как вход влияет на выход объекта управления: \\(Y = F(x)\\). 
- Для выяснения зависимости выхода от управляемых входов \\(U\\) необходимо проводить эксперименты с объектом, однако, как правило, сложный объект «не любит» экспериментов, нарушающих режимы его нормального функционирования, поэтому эксперимент, которого нельзя избежать, надо проводить так, чтобы минимально возмущая объект получить максимально возможную информацию о влиянии варьируемых параметров на выход \\(F\\). Для проведения эксперимента используют теорию планирования эксперимента. Создаётся план эксперимента, позволяющий с максимальной эффективностью определить параметры модели управления. В процессе планирования и проведения эксперимента может измениться представление о структуре модели, например, первая гипотеза о линейности будет заменена гипотезой о нелинейности. Это заставляет снова обращаться к синтезу структуры, проводя соответствующую коррекцию. Таким образом, на этапе планирования эксперимента определяются параметры модели, которые нельзя определить на этапе просто идентификации, а в некоторых случаях и корректируется структура модели. 

В результате осуществления всех этапов окончательно создаётся модель \\(F\\) объекта управления.

***